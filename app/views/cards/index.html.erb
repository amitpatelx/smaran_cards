<% content_for :title, "Cards" %>

<div class="header-actions">
  <h1>Flash Cards</h1>
  <div>
    <%= link_to "New Card", new_card_path, class: "btn btn-primary" %>
    <%= link_to "Download as JSON", cards_path(format: :json), class: "btn btn-secondary", download: "cards.json" %>
  </div>
</div>

<div class="card-grid">
  <% @cards.each do |card| %>
    <div class="card">
      <div class="quote-content">
        <%= card.quote %>
      </div>
      <% if card.commentary.present? %>
        <div>
          <strong>Commentary:</strong>
          <%= card.commentary %>
        </div>
      <% end %>
      <% if card.author.present? %>
        <div>
          <strong>Author:</strong>
          <%= card.author.name %>
        </div>
      <% end %>
      <% if card.source.present? %>
        <div>
          <strong>Source:</strong>
          <%= card.source.title %>
        </div>
      <% end %>
      <div class="actions">
        <%= link_to "Show", card, class: "btn btn-primary" %>
        <%= link_to "Edit", edit_card_path(card), class: "btn btn-secondary" %>
        <%= button_to "Delete", card, method: :delete, class: "btn btn-danger", data: { turbo_confirm: "Are you sure you want to delete this card?" } %>
      </div>
    </div>
  <% end %>
</div>

